<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Chicago Property Owner Quiz</title>
</head>
<body style="font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 40px 20px; background: #fff;">

    <!-- Quiz Title -->
    <h1 style="font-size: 28px; margin-bottom: 10px; color: #333; font-family: Helvetica, sans-serif; font-weight: bold;">
        Take This Quiz to Find Out What Kind of Landlord You Are
    </h1>

    <!-- Question Progress -->
    <h2 style="font-size: 20px; margin-bottom: 20px; color: #444;">
        Question {{ index + 1 }} of {{ total }}
    </h2>

    <!-- Quiz Form -->
    <form method="POST">
        <p style="font-size: 18px; font-weight: bold; color: #222; margin-bottom: 20px;">
            {{ question.question }}
        </p>

        {% for text, value in question.answers %}
            <div style="margin-bottom: 16px;">
                <label style="font-size: 16px;">
                    <input type="radio" name="answer" value="{{ value }}" required style="margin-right: 8px;">
                    {{ text }}
                </label>
            </div>
        {% endfor %}

        <!-- Submit Button -->
        <button type="submit"
            style="background-color: #155200; color: white; padding: 12px 24px; border: none; cursor: pointer; font-size: 16px; margin-top: 20px;">
            Next
        </button>
    </form>

    <!-- Auto-resize for iframe embedding -->
    <script>
        function sendHeight() {
            const height = document.body.scrollHeight;
            window.parent.postMessage({ height }, "*");
        }
        window.onload = sendHeight;
        window.onresize = sendHeight;
    </script>
<script>
  function sendHeight() {
    const height = document.body.scrollHeight;
    window.parent.postMessage({ height }, "*");
  }

  window.onload = sendHeight;
  window.onresize = sendHeight;

  // Keep checking height for a short time after load (to catch dropdowns, animations, etc.)
  let i = 0;
  const interval = setInterval(() => {
    sendHeight();
    i++;
    if (i > 10) clearInterval(interval);
  }, 200);
</script>
{% if index == 0 %}
<div style="height: 500px;"></div>
{% endif %}

</body>
</html>
